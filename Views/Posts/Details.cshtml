
@using Portfolio_v2.Controllers
@using Portfolio_v2.Models
@model Portfolio_v2.Models.Post

@{
    ViewBag.Title = "Details";
}


<br />
<br />
<br />

<section style="background-color:#ffe401" id="blog-details">
    <div class="container-fluid">
        <div class="row blog-item">
            <div class="col-sm-2 text-center">
                @if (Model.MediaUrl != null)
                {
                    <img class="img-responsive" src="@Model.MediaUrl" alt="">
                    <hr>
                }
                <i class="fa fa-clock-o"></i>
                <p class="date"><span>@Model.Created.ToString("D")</span>
            </div>
        </div>

        <div class="col-sm-12 blog-content">

            <h2>BLOG POST</h2>
            <div class="entry-meta">
                @Html.ActionLink("Posted by Admin", "Edit", new { id = Model.Id }, new { @class = "fa fa-user" })
                <a href="@Url.Action("Details",new {slug = Model.Slug})">@Model.Title</a>
                @*<span><a href="@Html.ActionLink("Index", "Comments")"><i class="fa fa-comment"></i></a></span>*@
            </div>
        </div>
        <div style="color: #000" class="entry-post">
            @Model.Body
        </div>
        <div class="social-share">
            @Model.MediaUrl
        </div>
        <div class="comments-login">
            <div class="col-md-6">
                @using (Html.BeginForm("Create", "Comments", FormMethod.Post, new {enctype = "Multipart/form-data"}))
                {
                    @Html.AntiForgeryToken()
                    <input type="hidden" value="@Model.Id" name="PostId" class="form-control">
                    <input type="text" name="Body">
                    <input type="submit" value="Create" class="btn btn-default"/>

                }
            </div>
        </div>
        <div class="post-comment">
            @foreach (var c in Model.Comments)
            {
                @c.Author.Email
                @c.Created
                @c.Body
                @*@Html.ActionLink("Edit", "Edit", "Comments", new { id = Model.Id }, null)*@
                @*@Html.ActionLink("Delete", "Delete", "Comments", new { id = Comment}, null)*@
                @Html.ActionLink("Edit", "Edit", "Comments", new { id = c.Id }, null)
            }
        </div>
    </div>
</section>



<footer id="footer">
    <div class="bottom default-bg text-center">
        <div class="container text-center">
            
        </div>
    </div>
</footer>
<script src="~/js/jquery.js"></script>
<script src="~/js/bootstrap.min.js"></script>



    <p>
        @Html.ActionLink("Edit", "Edit", new { id = Model.Id }) |
        @Html.ActionLink("Back to List", "Index")
    </p>
